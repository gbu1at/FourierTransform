# Документация для анимации сигнала с вычислением центра масс

Этот код создает анимацию, которая показывает, как меняется "намотанный" сигнал с разной частотой намотки, а также визуализирует центр масс этого сигнала. Визуализация состоит из трех графиков, а также функции для перезапуска анимации.

## Описание

- **Исходный сигнал**: Представляет собой сумму синусоидальных волн с разными частотами и фазами.
- **Намотанный сигнал**: Это сигнал, который "наматывается" на спираль в плоскости XY, где амплитуда радиусного вектора зависит от значения исходного сигнала.
- **Центр масс**: Вычисляется для намотанного сигнала и отображается на графике.

## Структура

### 1. Импорт библиотек

```python
import numpy as np
import matplotlib.pyplot as plt
from matplotlib.animation import FuncAnimation
from scipy.integrate import quad
import matplotlib.gridspec as gridspec
from matplotlib.widgets import Button
```

### 2. Параметры сигнала

```python
sampling_rate = 1000
time_points = np.linspace(0, 5, sampling_rate, endpoint=False)

frequencies = [2, 5, 8]
shiftes = [np.pi/2, 0, 0]
```

- `sampling_rate`: Частота дискретизации.
- `time_points`: Массив временных точек для сигнала.
- `frequencies`: Частоты синусоид, составляющих исходный сигнал.
- `shiftes`: Фазы этих синусоид.

### 3. Функции

- **`signal_func`**: Функция для генерации исходного сигнала на основе частот и фаз.
- **`wire_func`**: Функция, преобразующая временные точки сигнала в координаты на плоскости XY, моделируя "намотку".
- **`compute_center_of_mass`**: Функция для вычисления центра масс сигнала на основе интегралов по времени.

### 4. Настройка графиков

Код использует `matplotlib` для создания трех графиков:

1. **Исходный сигнал** (верхний левый).
2. **Намотанный сигнал** (верхний правый).
3. **Центр масс** (нижний график, показывающий изменение координат центра масс по частоте намотки).

### 5. Анимация

Анимация создается с помощью функции `FuncAnimation` из библиотеки `matplotlib.animation`. Время анимации регулируется с помощью переменной `frame`.

### 6. Функции анимации

- **`init`**: Функция инициализации, которая устанавливает начальные значения для всех графиков.
- **`update`**: Функция обновления кадров анимации, которая рассчитывает новые координаты для "намотанного" сигнала и обновляет значения центра масс.

### 7. Кнопка перезапуска

Для перезапуска анимации добавлена кнопка с помощью `matplotlib.widgets.Button`. При нажатии на кнопку анимация останавливается и начинается заново.

```python
def restart(event):
    global ani
    ani.event_source.stop()
    ani = FuncAnimation(fig, update, frames=np.linspace(0, 10, 200), init_func=init, blit=True, interval=50, repeat=False)
    plt.draw()
```

## Запуск

1. Код создаст окно с графиками, отображающими исходный сигнал, намотанный сигнал и координаты центра масс.
2. Частота намотки будет изменяться, и вы сможете увидеть, как меняется поведение центра масс сигнала.
3. Для перезапуска анимации нужно нажать кнопку "Restart".

## Требования

- `numpy`
- `matplotlib`
- `scipy`

## Примечания

- Код использует численное интегрирование с помощью функции `quad` из библиотеки `scipy` для вычисления центра масс.
- Анимация обновляется с интервалом 50 миллисекунд, что позволяет наблюдать плавное изменение сигнала.

---

Это описание поможет вам лучше понять структуру и функциональность кода. Вы можете адаптировать или расширить его для своих нужд.
